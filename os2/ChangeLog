Fri Nov 17 21:13:22 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in: use getdate.c from os2/ subdir, not lib/.

        * client.c (change_mode): never set anything executable, until we
        understand what that means in OS/2.

        * config.h (NEED_DECOY_PERMISSIONS): define to 1 (& see
        system.h).

Fri Nov 17 15:02:05 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * client.c: fixed up more error codes.

        * client.c: (send_repository): take into account the cornucopia of
        error codes so generously offered by OS/2.

Fri Nov 17 14:53:22 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * client.c, client.h: new files, copied from ../src/.

        * config.h (HAVE_POPEN_RW): don't define this anymore, since we'll
        just be using our own version of client.c.

        * Makefile.in: reflect the fact that os2/client.c is now used
        instead of src/client.c.

Thu Nov 16 21:47:22 1995  Karl Fogel  <kfogel@floss.cyclic.com>

	* startserver.c: removed.  We don't need this anymore.
        
        * config.h (RSH_NOT_TRANSPARENT): undef this.  We have a
        transparent rsh.
        (HAVE_POPEN_RW): define to 1.

        * popen.c (popenRW): open writing and reading streams in binary
        mode (i.e., "wb" and "rb").

        * Makefile.in (clean): use `rm' not `del' to remove files.

Wed Nov 15 15:21:53 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * config.h: don't prototype gethostname() here anymore.
        (USE_OWN_TCPIP_H): define to 1.
        (NEED_CALL_SOCKINIT): define to 1.
        (KFF_DEBUG): debugging macro.

Tue Nov 14 12:20:22 1995  Greg A. Woods  <woods@most.weird.com>

	* .cvsignore: "Makefile" generated by ../configure

Mon Nov 13 13:21:43 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (PS): note to maintainers about this var.

Mon Nov 13 07:28:04 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * README: updated.

        * rcmd.c: #include <stdio.h>.

        * Makefile.in: Include lib/regex, lib/getdate, strippath.
        (PS): default to "/", since we always "make dist" on Unix
        systems.
        Ahem, "save-cwd" with a hyphen, not an underscore.  Oops.

        * strippath.c: new file.
        
        * popen.c: set DIAGNOSTIC off.  Reformat for readability.

        * popen.h: new file.

        * config.h (USE_OWN_POPEN): define to 1.

        * run.c (Popen): make this work now that we have popen().
        
Mon Nov 13 01:23:27 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in: 
	(cvs.exe): broke up OBJECTS into components to create icc.in in
        more steps.  OBJECTS had gotten so big that it formed too long a
        command line all by itself.  Sheesh.
        Include stripslash (see below), lib/save_cwd, lib/sighandle,
        lib/yesno, startserver (see below), rcmd (see below), lib/xgetwd,
        lib/md5, waitpid (see below), lib/fnmatch, popen (see below).

        * popen.c, rcmd.c, rcmd.h, startserver.c, stripslash.c, waitpid.c:
        New files.
        
        * run.c (close_on_exec): new func (skeleton).
        (sleep): new func (OS/2 doesn't seem to have this).
        
        * pwd.c (getlogin): Don't call win32getlogin(), obviously.        

        * config.h (W_OK, R_OK, X_OK, F_OK): define masks for access().
        Include <process.h> for getpid().
        
        * filesubr.c (isaccessable): define.  Don't know why I left it out
        before.  For that matter, I don't know how the Windows NT port
        gets along without it.  Hmmm.

Sat Nov 11 15:00:01 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in: Use backslashes in pathnames, so ICC doesn't
        mistake them for options.

        * run.c (run_setup): cleared away Windows NT stuff, left skeleton
        functions that just complain and die for now.
        (run_exec): correctly check return of spawn under OS/2; return
        child's exit status.
        (run_args): declare as returning void, in agreement with cvs.h.

Fri Nov 10 14:21:14 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (COMMON_SOURCES, COMMON_OBJECTS): removed filesubr
        and run, since we have OS/2-specific versions of them now.
        (DISTFILES): Include Makefile in distribution, since people won't
        be running configure on their OS/2 systems.
        (LIB_SOURCES, LIB_OBJECTS): new vars; we'll just build stuff in
        the lib directory and link it in directly.
        Made rules for compiling objects and for the full executable.
        (SHELL): got rid of this var, no need for it here.
        Use a pattern rule for obj files.
        Some other minor tweaks for OS/2.
        
        * threads.c: new file.

Wed Nov  8 11:14:46 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * run.c: include <stdarg.h> and <stdio.h>.
        Change all VA_START to va_start.
        Don't ask HAVE_VPRINTF -- this is an OS/2-specific file and we can
        take things for granted.
        Started simplifying old NT `HANDLE' code.
        
        * Makefile.in (OS2_SOURCES): added run.c.

        * run.c: new file, copied from ../windows-NT/run.c.  Started
        making changes for OS/2.

        * test-makefile (all): don't bother to echo $CFLAGS; we can just
        read the compilation command.

        * filesubr.c (unlink_file): make this work on OS/2.
        (unlink_file_dir): don't ask if errno == EISDIR.  We ain't
        got EISDIR in OS/2.
        (deep_remove_dir): use EACCESS to determine if directory
        nonempty.  We ain't got ENOTEMPTY in OS/2.
        (that_swing): removed references.  We ain't got that_swing in
        OS/2.
        (rename_file): just use unlink_file(); move to after definition of
        unlink_file() so we don't have to deal with IBM C/C++'s strange
        prototyping rituals.
        (link_file): removed this function -- no one uses it anymore.
        It still exists in src/filesubr.c, though.
        (OS2_filename_classes): new table (well, old table, new name).
        All references changed.

        * config.h (HAVE_SYS_UTIME_H): define to 1.

        * options.h: undef SETXID_SUPPORT, to correspond with Norbert
        Kiesel's recent change to ../src/options.h.in, etc.

Mon Nov  6 16:29:00 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * test-makefile (CFLAGS): -DHAVE_CONFIG_H -- this turns out to be
        important for stuff in lib/.
        Other trivial changes.

        * config.h (HAVE_DIRENT_H): define to 1, now that we have our own
        dirent.h and dirent.c.

        * Makefile.in (OS2_SOURCES): added filesubr.c; this may not be
        permanent.

Sun Nov  5 16:17:33 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (OS2_HEADERS, OS2_SOURCES): added dirent.h and
        dirent.c, respectively.

        * dirent.c, dirent.h: new files.

Sat Oct 28 14:41:38 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (DISTFILES): include `test-makefile'.

        * test-makefile: new file; to be removed when the port is done.

Fri Oct 27 13:03:28 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (OS2_HEADERS, OS2_SOURCES): adjust as necessary for
        below changes.

        * config.h: oops, don't forget second argument, MODE.

        * mkdir.c (os2_mkdir): new file, new function.
        Can probably be merged with wnt_mkdir at some point.

        * config.h (ALLOCA_IN_STDLIB): new #define.

        * pwd.h, pwd.c: new files (for now, copied from ../windows-NT
        directory.  We'll modify/merge them as necessary.)

        * config.h: don't use __stdcall in declaration of gethostname().

        * Makefile.in (DISTFILES): include config.h and options.h.

Wed Oct 25 12:52:54 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * config.h: new file; will maintain by hand.
        Made first pass through to cast it into OS/2-ish condition.
        
        * Makefile.in: started adding lots of OS/2 gunk.
        Took out autoconf stuff; just don't want to fool around with that
        until after it compiles on beezley.
        (cvs.exe): moved this rule to bottom.

Tue Oct 24 13:51:05 1995  Norbert Kiesel  <nk@col.sw-ley.de>

	* Makefile.in: add autoconf variables

	* Makefile.in (dist): use $(srcdir)

Mon Oct 23 17:37:36 1995  Karl Fogel  <kfogel@floss.cyclic.com>

        * Makefile.in (clean): new rule.

        * init os2 directory.  Made dummy Makefile.in, README.
